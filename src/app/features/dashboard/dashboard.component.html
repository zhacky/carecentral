<div class="container items-center px-8  m-auto  sm:mt-10 md:mt-10">
  <div class="flex flex-nowrap gap-4 pb-3 overflow-x-auto">

    <div class="w-full p-4 xl:w-1/4 sm:w-1/2 min-w-[250px]  bg-white shadow-lg rounded-lg overflow-hidden">

      <div class="flex flex-row items-center justify-between px-4 py-4">
        <div class="flex mr-4">
  <span class="items-center px-4 py-4 rounded-xl bg-purple-400">
    <i class="fa-solid fa-hospital-user" style="font-size: 60px;"></i>
  </span>
        </div>

        <div class="flex-1 pl-1">
          <div class="text-4xl font-bold ">6,427</div>
          <div class="text-xl ">Patient</div>
        </div>
      </div>
    </div>


    <div class="w-full p-4 xl:w-1/4 sm:w-1/2 min-w-[250px] bg-white rounded-lg shadow-lg">
      <div class="flex flex-row items-center justify-between px-4 py-4">
        <div class="flex mr-4">
  <span class="items-center px-4 py-4  rounded-xl bg-purple-400">
    <i class="fa-solid fa-stethoscope" style="font-size: 60px;"></i>
  </span>
        </div>

        <div class="flex-1 pl-1">
          <div class="text-4xl font-bold ">120</div>
          <div class="text-xl ">Doctor</div>
        </div>
      </div>
    </div>


    <div class="w-full p-4 xl:w-1/4 sm:w-1/2 min-w-[250px] bg-white rounded-lg shadow-lg">
      <div class="flex flex-row items-center justify-between px-4 py-4">
        <div class="flex mr-4">
  <span class="items-center px-4 py-4  rounded-xl bg-purple-400">
    <i class="fa-solid fa-hospital-user" style="font-size: 60px;"></i>
  </span>
        </div>

        <div class="flex-1 pl-1">
          <div class="text-4xl font-bold ">6,427</div>
          <div class="text-xl ">Patient</div>
        </div>
      </div>
    </div>


    <div class="w-full p-4 xl:w-1/4 sm:w-1/2 min-w-[250px] bg-white rounded-lg shadow-lg">
      <div class="flex flex-row items-center justify-between px-4 py-4">
        <div class="flex mr-4">
  <span class="items-center px-4 py-4  rounded-xl bg-purple-400">
    <i class="fa-solid fa-hospital-user" style="font-size: 60px;"></i>
  </span>
        </div>

        <div class="flex-1 pl-1">
          <div class="text-4xl font-bold ">6,427</div>
          <div class="text-xl ">Patient</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Patient Table -->
<div class="parent p-4">
  <div class="page-content bg-white rounded-lg shadow-md p-6">
    <h1 class="text-2xl font-bold mb-4">Patient List</h1>

    <!-- Search Input -->
    <input type="text" [(ngModel)]="searchQueryPatient" placeholder="Search by first name, last name, or patient ID" class="w-full px-4 py-2 border rounded mb-4">

    <!-- Patient Table -->
    <table mat-table [dataSource]="filteredData" class="w-full border-collapse">
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element"> {{element.position}} </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> First Name </th>
        <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
      </ng-container>

      <ng-container matColumnDef="dateOfBirth">
        <th mat-header-cell *matHeaderCellDef> Date of Birth </th>
        <td mat-cell *matCellDef="let element">
          {{element.dateOfBirth | date: 'MMMM d, y'}}
        </td>
      </ng-container>

      <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef> Gender </th>
        <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- Paginator -->
    <mat-paginator [pageSize]="6" [pageSizeOptions]="[6]" aria-label="Select page of patients"></mat-paginator>
  </div>
</div>

<!-- Doctor Table -->
<div class="py-10 md:px-8 m-auto">
  <div class="bg-white shadow-lg rounded-lg overflow-hidden">
    <!-- Card Header -->
    <div class="px-6 py-4 border-b">
      <div class="flex items-center justify-between md:flex-row">
        <div class="max-w-lg">
          <h3 class="text-gray-800 text-xl font-bold sm:text-2xl">Doctor List</h3>
        </div>
        <!-- Filter and Search Bar -->
        <div class="flex space-x-4">
          <!-- Search Bar -->
          <div class="relative">
            <input
              type="text"
              [(ngModel)]="searchQueryDoctor"
            placeholder="Search..."
            class="px-4 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <svg xmlns="http://www.w3.org/2000/svg" class="absolute right-3 top-2.5 text-gray-400" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a7 7 0 110 14 7 7 0 010-14zm0 0v3m0 4v6"></path>
            </svg>
          </div>

          <!-- Filter Dropdown -->
          <div class="relative">
            <select [(ngModel)]="filterStatus" class="px-4 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
              <option value="" disabled selected>Filter by Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Body (Table Content) -->
    <div class="relative h-max overflow-auto px-6 py-4 justify-start">
      <table class="w-full table-auto text-sm text-left">
        <thead class="text-gray-600 font-medium border-b">
        <tr>
          <th class="py-3 pr-6">Doctor ID</th>
          <th class="py-3 pr-6">Name</th>
          <th class="py-3 pr-6">Specialization</th>
          <th class="py-3 pr-6">Gender</th>
          <th class="py-3 pr-6">Phone Number</th>
          <th class="py-3 pr-6">Email</th>
          <th class="py-3 pr-6">Status</th>
          <th class="py-3 pr-6">Action</th>
        </tr>
        </thead>
        <tbody class="text-gray-600 divide-y">
        <!-- Use filteredDoctors getter for dynamic filtering and searching -->
        <tr *ngFor="let item of filteredDoctors">
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.doctorId }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.name }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.specialization }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.gender }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.phone }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">{{ item.email }}</td>
          <td class="pr-6 py-4 whitespace-nowrap">
              <span class="inline-block px-4 py-1 text-xs font-semibold rounded-full
                          {{ item.status === 'Active' ? 'border-2 border-green-500 text-green-500' : 'border-2 border-red-400 text-red-400' }}">
                {{ item.status }}
              </span>
          </td>
          <td class="text-right whitespace-nowrap">
            <div class="flex justify-start space-x-2">
              <!-- Edit Button with FontAwesome Icon -->
              <a href="javascript:void(0)" (click)="editDoctor(item)" class="text-blue-600 hover:text-blue-500 duration-150">
                <i class="fas fa-edit w-5 h-5"></i>
              </a>
              <!-- Delete Button with FontAwesome Icon -->
              <a href="javascript:void(0)" (click)="deleteDoctor(item)" class="text-red-600 hover:text-red-500 duration-150">
                <i class="fas fa-trash w-5 h-5"></i>
              </a>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
