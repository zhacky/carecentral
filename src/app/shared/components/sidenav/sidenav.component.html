<mat-sidenav-container autosize class="fullscreen-container">
  <mat-sidenav #drawer [style.width]="sidenavWidth()" mode="side" opened style="
  background-color: white;">
    <!--    <div class="sidenav-header">-->
    <!--      <img class="logo-image"  src="assets/Images/login-image.jpg" [style.width]="logoPicSize()" [style.height]="logoPicSize()" />-->
    <!--    </div>-->
    <mat-nav-list class="nav-list">
      <div class="sidenav-header">
        <!--        <img class="logo-image"  src="assets/Images/login-image.jpg" [style.width]="logoPicSize()" [style.height]="logoPicSize()"/>-->
        <span [class.collapsed]="collapsed()" class="brand-name">
         <span class="text">
           <span class="blue">Care</span><span>C</span>entral
         </span>
         <span class="short-text">
           <span class="blue">C</span><span>C</span>
         </span>
      </span>

      </div>

      <!-- Main menu items -->
      <div class="main-menu mt-5">
        <ng-container *ngFor="let item of menuItems().slice(0, menuItems().length - 1)">

          <!-- Item with children (e.g., "Rooms") -->
          <ng-container *ngIf="item.children?.length; else singleItem">
            <mat-list-item disableRipple (click)="toggleExpand(item.label)" class="parent-item">
              <img [src]="item.icon" alt="Icon" matListItemIcon />
              <span matListItemTitle class="item-label" style="color: #A9A9A9;">
                {{ item.label }}
                <mat-icon class="expand-icon align-bottom">
                {{ expandedItems()[item.label] ? 'expand_less' : 'expand_more' }}
                </mat-icon>
              </span>
            </mat-list-item>

            <!-- Nested child routes -->
            <div *ngIf="expandedItems()[item.label]" class="pl-4">
              <mat-list-item
                *ngFor="let child of item.children"
                [routerLink]="child.route"
                routerLinkActive="selected-menu-item"
              >
                <img [src]="child.icon" alt="Icon" matListItemIcon />
                <span matListItemTitle style="color: #A9A9A9;">{{ child.label }}</span>
              </mat-list-item>
            </div>
          </ng-container>

          <!-- Single-level item -->
          <ng-template #singleItem>
            <mat-list-item
              #rla="routerLinkActive"
              [activated]="rla.isActive"
              [routerLink]="item.route"
              routerLinkActive="selected-menu-item"
            >
              <img [src]="item.icon" alt="Icon" matListItemIcon />
              <span matListItemTitle style="color: #A9A9A9;">{{ item.label }}</span>
            </mat-list-item>
          </ng-template>

        </ng-container>
      </div>

      <!-- Settings item -->
      <div class="bottom-item">
        <mat-list-item
          [routerLink]="menuItems()[menuItems().length - 1].route"
        >
          <img [src]="menuItems()[menuItems().length - 1].icon" alt="Settings Icon" matListItemIcon/>
          <span matListItemTitle style="color: #A9A9A9;">{{ menuItems()[menuItems().length - 1].label }}</span>
        </mat-list-item>
      </div>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Main content -->
  <mat-sidenav-content [style.margin-left]="sidenavWidth()" class="page-content">
    <app-header (toggleSidenav)="collapsed.set(!collapsed())"></app-header>
<!--    <mat-toolbar color="primary" style="background-color: white;">-->
<!--      <button (click)="collapsed.set(!collapsed())" mat-icon-button>-->
<!--        <mat-icon>menu</mat-icon>-->
<!--      </button>-->
<!--      <span class="toolbar-title"></span>-->
<!--      <span class="spacer"></span>-->
<!--      <img class="right-icon" src="assets/Icons/icon_notifications.svg"/>-->
<!--      <div class="right-icon" style="width: 30px; height: 30px; background-color: #D9D9D9; border-radius: 50%"></div>-->
<!--    </mat-toolbar>-->
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
